{"ast":null,"code":"import _classCallCheck from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/reactApp/React_16.x/src/common/navigation/components/NavMenu.js\";\nimport React from \"react\";\nimport $ from \"jquery\";\nimport PropTypes from \"prop-types\";\nimport { findDOMNode } from \"react-dom\";\nimport { config } from \"../../../config/config\";\nimport store from \"../../../store/configureStore\";\nimport { navigationInit } from \"../NavigationActions\";\nimport NavMenuList from \"./NavMenuList\";\n\nvar navItems = require(\"../../../config/navigation.json\").items.map(addId);\n\nvar NavMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NavMenu, _React$Component);\n\n  function NavMenu() {\n    _classCallCheck(this, NavMenu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NavMenu).apply(this, arguments));\n  }\n\n  _createClass(NavMenu, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      store.dispatch(navigationInit(navItems));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var defaults = {\n        accordion: true,\n        speed: config.menu_speed,\n        closedSign: \"[+]\",\n        openedSign: \"[-]\"\n      }; //@todo get rid of jquery stuff\n      // Extend our default options with those provided.\n\n      var opts = $.extend({}, defaults, this.props); //Assign current element to variable, in this case is UL element\n\n      var $this = $(findDOMNode(this)); //add a mark [+] to a multilevel menu\n\n      $this.find(\"li\").each(function () {\n        if ($(this).find(\"ul\").length !== 0) {\n          //add the multilevel sign next to the link\n          $(this).find(\"a:first\").append(\"<b class='collapse-sign'>\" + opts.closedSign + \"</b>\"); //avoid jumping to the top of the page when the href is an #\n\n          if ($(this).find(\"a:first\").attr(\"href\") === \"#\") {\n            $(this).find(\"a:first\").click(function () {\n              return false;\n            });\n          }\n        }\n      }); //open active level\n\n      $this.find(\"a.active\").each(function (li) {\n        $(this).parents(\"ul\").slideDown(opts.speed);\n        $(this).parents(\"ul\").parent(\"li\").find(\"b:first\").html(opts.openedSign);\n        $(this).parents(\"ul\").parent(\"li\").addClass(\"open\");\n      });\n      $this.find(\"li a\").click(function () {\n        if ($(this).parent().find(\"ul\").length !== 0) {\n          if (opts.accordion) {\n            //Do nothing when the list is open\n            if (!$(this).parent().find(\"ul\").is(\":visible\")) {\n              var parents = $(this).parent().parents(\"ul\");\n              var visible = $this.find(\"ul:visible\");\n              visible.each(function (visibleIndex) {\n                var close = true;\n                parents.each(function (parentIndex) {\n                  if (parents[parentIndex] === visible[visibleIndex]) {\n                    close = false;\n                    return false;\n                  }\n                });\n\n                if (close) {\n                  if ($(this).parent().find(\"ul\") !== visible[visibleIndex]) {\n                    $(visible[visibleIndex]).slideUp(opts.speed, function () {\n                      $(this).parent(\"li\").find(\"b:first\").html(opts.closedSign);\n                      $(this).parent(\"li\").removeClass(\"open\");\n                    });\n                  }\n                }\n              });\n            }\n          }\n\n          if ($(this).parent().find(\"ul:first\").is(\":visible\") && !$(this).parent().find(\"ul:first\").hasClass(\"active\")) {\n            $(this).parent().find(\"ul:first\").slideUp(opts.speed, function () {\n              $(this).parent(\"li\").removeClass(\"open\");\n              $(this).parent(\"li\").find(\"b:first\").delay(opts.speed).html(opts.closedSign);\n            });\n          } else {\n            $(this).parent().find(\"ul:first\").slideDown(opts.speed, function () {\n              $(this).parent(\"li\").addClass(\"open\");\n              $(this).parent(\"li\").find(\"b:first\").delay(opts.speed).html(opts.openedSign);\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return navItems ? React.createElement(NavMenuList, {\n        items: navItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }) : this.props.children;\n    }\n  }]);\n\n  return NavMenu;\n}(React.Component);\n\nexport { NavMenu as default };\nNavMenu.propTypes = {\n  accordion: PropTypes.bool,\n  speed: PropTypes.number,\n  closedSign: PropTypes.string,\n  openedSign: PropTypes.string\n}; // emsure item have id\n\nfunction addId(item) {\n  if (item.items) {\n    item.items = item.items.map(addId);\n  }\n\n  if (!item.id) {\n    item.id = Math.random().toString(36).slice(2);\n  }\n\n  return item;\n}","map":{"version":3,"sources":["/opt/lampp/htdocs/reactApp/React_16.x/src/common/navigation/components/NavMenu.js"],"names":["React","$","PropTypes","findDOMNode","config","store","navigationInit","NavMenuList","navItems","require","items","map","addId","NavMenu","dispatch","defaults","accordion","speed","menu_speed","closedSign","openedSign","opts","extend","props","$this","find","each","length","append","attr","click","li","parents","slideDown","parent","html","addClass","is","visible","visibleIndex","close","parentIndex","slideUp","removeClass","hasClass","delay","children","Component","propTypes","bool","number","string","item","id","Math","random","toString","slice"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\nimport PropTypes from \"prop-types\";\nimport { findDOMNode } from \"react-dom\";\nimport { config } from \"../../../config/config\";\nimport store from \"../../../store/configureStore\";\nimport { navigationInit } from \"../NavigationActions\";\nimport NavMenuList from \"./NavMenuList\";\n\n\n\nconst navItems = require(\"../../../config/navigation.json\").items.map(addId);\n\nexport default class NavMenu extends React.Component {\n  componentWillMount() {\n    store.dispatch(navigationInit(navItems));\n  }\n\n  componentDidMount() {\n    const defaults = {\n      accordion: true,\n      speed: config.menu_speed,\n      closedSign: \"[+]\",\n      openedSign: \"[-]\"\n    };\n\n    //@todo get rid of jquery stuff\n\n    // Extend our default options with those provided.\n    const opts = $.extend({}, defaults, this.props);\n    //Assign current element to variable, in this case is UL element\n    const $this = $(findDOMNode(this));\n\n    //add a mark [+] to a multilevel menu\n    $this.find(\"li\").each(function() {\n      if ($(this).find(\"ul\").length !== 0) {\n        //add the multilevel sign next to the link\n        $(this)\n          .find(\"a:first\")\n          .append(\"<b class='collapse-sign'>\" + opts.closedSign + \"</b>\");\n\n        //avoid jumping to the top of the page when the href is an #\n        if (\n          $(this)\n            .find(\"a:first\")\n            .attr(\"href\") === \"#\"\n        ) {\n          $(this)\n            .find(\"a:first\")\n            .click(function() {\n              return false;\n            });\n        }\n      }\n    });\n\n    //open active level\n    $this.find(\"a.active\").each(function(li) {\n      $(this)\n        .parents(\"ul\")\n        .slideDown(opts.speed);\n      $(this)\n        .parents(\"ul\")\n        .parent(\"li\")\n        .find(\"b:first\")\n        .html(opts.openedSign);\n      $(this)\n        .parents(\"ul\")\n        .parent(\"li\")\n        .addClass(\"open\");\n    });\n\n    $this.find(\"li a\").click(function() {\n      if (\n        $(this)\n          .parent()\n          .find(\"ul\").length !== 0\n      ) {\n        if (opts.accordion) {\n          //Do nothing when the list is open\n          if (\n            !$(this)\n              .parent()\n              .find(\"ul\")\n              .is(\":visible\")\n          ) {\n            const parents = $(this)\n              .parent()\n              .parents(\"ul\");\n            const visible = $this.find(\"ul:visible\");\n            visible.each(function(visibleIndex) {\n              var close = true;\n              parents.each(function(parentIndex) {\n                if (parents[parentIndex] === visible[visibleIndex]) {\n                  close = false;\n                  return false;\n                }\n              });\n              if (close) {\n                if (\n                  $(this)\n                    .parent()\n                    .find(\"ul\") !== visible[visibleIndex]\n                ) {\n                  $(visible[visibleIndex]).slideUp(opts.speed, function() {\n                    $(this)\n                      .parent(\"li\")\n                      .find(\"b:first\")\n                      .html(opts.closedSign);\n                    $(this)\n                      .parent(\"li\")\n                      .removeClass(\"open\");\n                  });\n                }\n              }\n            });\n          }\n        }\n        if (\n          $(this)\n            .parent()\n            .find(\"ul:first\")\n            .is(\":visible\") &&\n          !$(this)\n            .parent()\n            .find(\"ul:first\")\n            .hasClass(\"active\")\n        ) {\n          $(this)\n            .parent()\n            .find(\"ul:first\")\n            .slideUp(opts.speed, function() {\n              $(this)\n                .parent(\"li\")\n                .removeClass(\"open\");\n              $(this)\n                .parent(\"li\")\n                .find(\"b:first\")\n                .delay(opts.speed)\n                .html(opts.closedSign);\n            });\n        } else {\n          $(this)\n            .parent()\n            .find(\"ul:first\")\n            .slideDown(opts.speed, function() {\n              $(this)\n                .parent(\"li\")\n                .addClass(\"open\");\n              $(this)\n                .parent(\"li\")\n                .find(\"b:first\")\n                .delay(opts.speed)\n                .html(opts.openedSign);\n            });\n        } \n      } \n    });\n  }\n\n  render() {\n    return navItems ? <NavMenuList items={navItems} /> : this.props.children;\n  }\n}\n\nNavMenu.propTypes = {\n  accordion: PropTypes.bool,\n  speed: PropTypes.number,\n  closedSign: PropTypes.string,\n  openedSign: PropTypes.string\n};\n\n// emsure item have id\nfunction addId(item) {\n  if (item.items) {\n    item.items = item.items.map(addId);\n  }\n\n  if (!item.id) {\n    item.id = Math.random()\n      .toString(36)\n      .slice(2);\n  }\n  return item;\n}"]},"metadata":{},"sourceType":"module"}