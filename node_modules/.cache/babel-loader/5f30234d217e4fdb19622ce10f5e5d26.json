{"ast":null,"code":"import { config } from \"../../../config/config\";\nimport { smallBox } from \"./message\";\nimport $ from \"jquery\";\nvar cache = {};\nvar audioConfig = {\n  basePath: config.sound_path,\n  mainExt: \".mp3\",\n  alternateExt: \".ogg\"\n};\nexport function getAudio(name) {\n  if (cache[name]) {\n    return Promise.resolve(cache[name]);\n  } else {\n    return new Promise(function (resolve, reject) {\n      var audioElement = document.createElement(\"audio\");\n\n      if (navigator.userAgent.match(\"Firefox/\")) {\n        audioElement.setAttribute(\"src\", audioConfig.basePath + name + audioConfig.alternateExt);\n      } else {\n        audioElement.setAttribute(\"src\", audioConfig.basePath + name + audioConfig.mainExt);\n      }\n\n      audioElement.addEventListener(\"error\", reject);\n      audioElement.load();\n      cache[name] = audioElement;\n      resolve(audioElement);\n    });\n  }\n}\nexport function playAudio(name) {\n  console.log(config.sound_on);\n\n  if (config.sound_on) {\n    getAudio(name).then(function (audio) {\n      audio.play();\n    });\n  }\n}\nexport function mute() {\n  config.sound_on = false;\n  smallBox({\n    title: \"MUTE\",\n    content: \"All sounds have been muted!\",\n    color: \"#a90329\",\n    timeout: 4000,\n    icon: \"fa fa-volume-off\"\n  });\n}\nexport function soundOn() {\n  config.sound_on = true;\n  smallBox({\n    title: \"UNMUTE\",\n    content: \"All sounds have been turned on!\",\n    color: \"#40ac2b\",\n    sound_file: \"voice_alert\",\n    timeout: 5000,\n    icon: \"fa fa-volume-up\"\n  });\n}\nObject.assign($, {\n  sound_on: config.sound_on,\n  sound_path: config.sound_path\n});","map":{"version":3,"sources":["/opt/lampp/htdocs/reactApp/React_16.x/src/common/utils/functions/sound.js"],"names":["config","smallBox","$","cache","audioConfig","basePath","sound_path","mainExt","alternateExt","getAudio","name","Promise","resolve","reject","audioElement","document","createElement","navigator","userAgent","match","setAttribute","addEventListener","load","playAudio","console","log","sound_on","then","audio","play","mute","title","content","color","timeout","icon","soundOn","sound_file","Object","assign"],"mappings":"AAAA,SAASA,MAAT,QAAuB,wBAAvB;AACA,SAASC,QAAT,QAAyB,WAAzB;AAEA,OAAOC,CAAP,MAAc,QAAd;AAEA,IAAMC,KAAK,GAAG,EAAd;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,QAAQ,EAAEL,MAAM,CAACM,UADC;AAElBC,EAAAA,OAAO,EAAE,MAFS;AAGlBC,EAAAA,YAAY,EAAE;AAHI,CAApB;AAMA,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AAC7B,MAAIP,KAAK,CAACO,IAAD,CAAT,EAAiB;AACf,WAAOC,OAAO,CAACC,OAAR,CAAgBT,KAAK,CAACO,IAAD,CAArB,CAAP;AACD,GAFD,MAEO;AACL,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAArB;;AACA,UAAIC,SAAS,CAACC,SAAV,CAAoBC,KAApB,CAA0B,UAA1B,CAAJ,EAA2C;AACzCL,QAAAA,YAAY,CAACM,YAAb,CACE,KADF,EAEEhB,WAAW,CAACC,QAAZ,GAAuBK,IAAvB,GAA8BN,WAAW,CAACI,YAF5C;AAID,OALD,MAKO;AACLM,QAAAA,YAAY,CAACM,YAAb,CACE,KADF,EAEEhB,WAAW,CAACC,QAAZ,GAAuBK,IAAvB,GAA8BN,WAAW,CAACG,OAF5C;AAID;;AAEDO,MAAAA,YAAY,CAACO,gBAAb,CAA8B,OAA9B,EAAuCR,MAAvC;AAEAC,MAAAA,YAAY,CAACQ,IAAb;AACAnB,MAAAA,KAAK,CAACO,IAAD,CAAL,GAAcI,YAAd;AACAF,MAAAA,OAAO,CAACE,YAAD,CAAP;AACD,KAnBM,CAAP;AAoBD;AACF;AAED,OAAO,SAASS,SAAT,CAAmBb,IAAnB,EAAyB;AAC9Bc,EAAAA,OAAO,CAACC,GAAR,CAAYzB,MAAM,CAAC0B,QAAnB;;AACA,MAAI1B,MAAM,CAAC0B,QAAX,EAAqB;AACnBjB,IAAAA,QAAQ,CAACC,IAAD,CAAR,CAAeiB,IAAf,CAAoB,UAAAC,KAAK,EAAI;AAC3BA,MAAAA,KAAK,CAACC,IAAN;AACD,KAFD;AAGD;AACF;AAED,OAAO,SAASC,IAAT,GAAgB;AACrB9B,EAAAA,MAAM,CAAC0B,QAAP,GAAkB,KAAlB;AACAzB,EAAAA,QAAQ,CAAC;AACP8B,IAAAA,KAAK,EAAE,MADA;AAEPC,IAAAA,OAAO,EAAE,6BAFF;AAGPC,IAAAA,KAAK,EAAE,SAHA;AAIPC,IAAAA,OAAO,EAAE,IAJF;AAKPC,IAAAA,IAAI,EAAE;AALC,GAAD,CAAR;AAOD;AAED,OAAO,SAASC,OAAT,GAAmB;AACxBpC,EAAAA,MAAM,CAAC0B,QAAP,GAAkB,IAAlB;AACAzB,EAAAA,QAAQ,CAAC;AACP8B,IAAAA,KAAK,EAAE,QADA;AAEPC,IAAAA,OAAO,EAAE,iCAFF;AAGPC,IAAAA,KAAK,EAAE,SAHA;AAIPI,IAAAA,UAAU,EAAE,aAJL;AAKPH,IAAAA,OAAO,EAAE,IALF;AAMPC,IAAAA,IAAI,EAAE;AANC,GAAD,CAAR;AAQD;AAEDG,MAAM,CAACC,MAAP,CAAcrC,CAAd,EAAiB;AACfwB,EAAAA,QAAQ,EAAE1B,MAAM,CAAC0B,QADF;AAEfpB,EAAAA,UAAU,EAAEN,MAAM,CAACM;AAFJ,CAAjB","sourcesContent":["import { config } from \"../../../config/config\";\nimport { smallBox } from \"./message\";\n\nimport $ from \"jquery\";\n\nconst cache = {};\n\nconst audioConfig = {\n  basePath: config.sound_path,\n  mainExt: \".mp3\",\n  alternateExt: \".ogg\"\n};\n\nexport function getAudio(name) {\n  if (cache[name]) {\n    return Promise.resolve(cache[name]);\n  } else {\n    return new Promise((resolve, reject) => {\n      const audioElement = document.createElement(\"audio\");\n      if (navigator.userAgent.match(\"Firefox/\")) {\n        audioElement.setAttribute(\n          \"src\",\n          audioConfig.basePath + name + audioConfig.alternateExt\n        );\n      } else {\n        audioElement.setAttribute(\n          \"src\",\n          audioConfig.basePath + name + audioConfig.mainExt\n        );\n      }\n\n      audioElement.addEventListener(\"error\", reject);\n\n      audioElement.load();\n      cache[name] = audioElement;\n      resolve(audioElement);\n    });\n  }\n}\n\nexport function playAudio(name) {\n  console.log(config.sound_on);\n  if (config.sound_on) {\n    getAudio(name).then(audio => {\n      audio.play();\n    });\n  }\n}\n\nexport function mute() {\n  config.sound_on = false;\n  smallBox({\n    title: \"MUTE\",\n    content: \"All sounds have been muted!\",\n    color: \"#a90329\",\n    timeout: 4000,\n    icon: \"fa fa-volume-off\"\n  });\n}\n\nexport function soundOn() {\n  config.sound_on = true;\n  smallBox({\n    title: \"UNMUTE\",\n    content: \"All sounds have been turned on!\",\n    color: \"#40ac2b\",\n    sound_file: \"voice_alert\",\n    timeout: 5000,\n    icon: \"fa fa-volume-up\"\n  });\n}\n\nObject.assign($, {\n  sound_on: config.sound_on,\n  sound_path: config.sound_path\n});\n"]},"metadata":{},"sourceType":"module"}