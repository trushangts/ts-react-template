{"ast":null,"code":"import _objectWithoutProperties from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/opt/lampp/htdocs/reactApp/React_16.x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/opt/lampp/htdocs/reactApp/React_16.x/src/common/forms/wizards/Wizard.js\";\nimport React from \"react\";\nimport $ from \"jquery\";\n\nvar Wizard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Wizard, _React$Component);\n\n  function Wizard(props) {\n    var _this;\n\n    _classCallCheck(this, Wizard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Wizard).call(this, props));\n\n    _this.next = function (e) {\n      e.preventDefault();\n\n      var _this$state = _objectSpread({}, _this.state),\n          validSteps = _this$state.validSteps,\n          currentStep = _this$state.currentStep;\n\n      if (_this.$form.data(\"validator\") && !_this.$form.valid()) {\n        if (validSteps.indexOf(currentStep) > -1) {\n          validSteps.splice(validSteps.indexOf(currentStep), 1);\n        }\n\n        _this.$form.data(\"validator\").focusInvalid();\n      } else {\n        if (validSteps.indexOf(currentStep) === -1) {\n          validSteps.push(currentStep);\n        }\n\n        _this.$element.find(\"[data-smart-wizard-tab=\" + currentStep + \"]\").addClass(\"complete\").find(\".step\").html('<i class=\"fa fa-check\"></i>');\n      }\n\n      _this.setState({\n        validSteps: validSteps\n      });\n\n      if (validSteps.length < _this.stepsCount && validSteps.indexOf(currentStep) > -1) {\n        var nextStep = currentStep <= _this.stepsCount ? currentStep + 1 : 1;\n\n        _this.setStep(nextStep);\n      } else if (validSteps.indexOf(currentStep) > -1) {\n        _this.complete();\n      } else {\n        return false;\n      }\n    };\n\n    _this.prev = function (e) {\n      e.preventDefault();\n\n      if (_this.state.currentStep > 1) {\n        _this.setStep(_this.state.currentStep - 1);\n      }\n    };\n\n    _this.complete = function () {\n      var formData = {};\n\n      _this.$form.serializeArray().forEach(function (field) {\n        formData[field.name] = field.value;\n      });\n\n      if (_this.props.onComplete) {\n        _this.props.onComplete(formData);\n      }\n    };\n\n    _this.state = {\n      currentStep: 0,\n      validSteps: []\n    };\n    return _this;\n  }\n\n  _createClass(Wizard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.$element.on(\"click\", \"[data-smart-wizard-tab]\", function (e, el) {\n        e.preventDefault();\n        var step = parseInt($(el).data(\"smartWizardTab\"), 10);\n\n        _this2.setStep(step);\n      });\n      this.$next.on(\"click\", this.next);\n      this.$prev.on(\"click\", this.prev);\n      this.setStep(1);\n    }\n  }, {\n    key: \"setStep\",\n    value: function setStep(step) {\n      this.setState({\n        currentStep: step\n      });\n      $(\"[data-smart-wizard-pane=\" + step + \"]\", this.$element).addClass(\"active\").siblings(\"[data-smart-wizard-pane]\").removeClass(\"active\");\n      $(\"[data-smart-wizard-tab=\" + step + \"]\", this.$element).addClass(\"active\").siblings(\"[data-smart-wizard-tab]\").removeClass(\"active\");\n\n      if (step === 1) {\n        this.$prev.find(\"button\").attr(\"disabled\", \"disabled\");\n      } else {\n        this.$prev.find(\"button\").removeAttr(\"disabled\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          onComplete = _this$props.onComplete,\n          props = _objectWithoutProperties(_this$props, [\"children\", \"onComplete\"]);\n\n      return React.createElement(\"div\", Object.assign({}, props, {\n        ref: \"wizard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), children);\n    }\n  }, {\n    key: \"$element\",\n    get: function get() {\n      return $(this.refs.wizard);\n    }\n  }, {\n    key: \"$prev\",\n    get: function get() {\n      return $(\"[data-smart-wizard-prev]\", this.$element);\n    }\n  }, {\n    key: \"$next\",\n    get: function get() {\n      return $(\"[data-smart-wizard-next]\", this.$element);\n    }\n  }, {\n    key: \"$form\",\n    get: function get() {\n      return this.$element.closest(\"form\");\n    }\n  }, {\n    key: \"stepsCount\",\n    get: function get() {\n      return $(\"[data-smart-wizard-tab]\", this.$element).length;\n    }\n  }]);\n\n  return Wizard;\n}(React.Component);\n\nexport { Wizard as default };","map":{"version":3,"sources":["/opt/lampp/htdocs/reactApp/React_16.x/src/common/forms/wizards/Wizard.js"],"names":["React","$","Wizard","props","next","e","preventDefault","state","validSteps","currentStep","$form","data","valid","indexOf","splice","focusInvalid","push","$element","find","addClass","html","setState","length","stepsCount","nextStep","setStep","complete","prev","formData","serializeArray","forEach","field","name","value","onComplete","on","el","step","parseInt","$next","$prev","siblings","removeClass","attr","removeAttr","children","refs","wizard","closest","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from \"jquery\";\n\nexport default class Wizard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentStep: 0,\n      validSteps: []\n    };\n  }\n\n  componentDidMount() {\n    this.$element.on(\"click\", \"[data-smart-wizard-tab]\", (e, el) => {\n      e.preventDefault();\n      const step = parseInt($(el).data(\"smartWizardTab\"), 10);\n      this.setStep(step);\n    });\n\n    this.$next.on(\"click\", this.next);\n    this.$prev.on(\"click\", this.prev);\n\n    this.setStep(1);\n  }\n\n  next = e => {\n    e.preventDefault();\n\n    const { validSteps, currentStep } = { ...this.state };\n\n    if (this.$form.data(\"validator\") && !this.$form.valid()) {\n      if (validSteps.indexOf(currentStep) > -1) {\n        validSteps.splice(validSteps.indexOf(currentStep), 1);\n      }\n      this.$form.data(\"validator\").focusInvalid();\n    } else {\n      if (validSteps.indexOf(currentStep) === -1) {\n        validSteps.push(currentStep);\n      }\n      this.$element\n        .find(\"[data-smart-wizard-tab=\" + currentStep + \"]\")\n        .addClass(\"complete\")\n        .find(\".step\")\n        .html('<i class=\"fa fa-check\"></i>');\n    }\n\n    this.setState({\n      validSteps\n    });\n\n    if (\n      validSteps.length < this.stepsCount &&\n      validSteps.indexOf(currentStep) > -1\n    ) {\n      const nextStep = currentStep <= this.stepsCount ? currentStep + 1 : 1;\n      this.setStep(nextStep);\n    } else if (validSteps.indexOf(currentStep) > -1) {\n      this.complete();\n    } else {\n      return false;\n    }\n  };\n\n  prev = e => {\n    e.preventDefault();\n    if (this.state.currentStep > 1) {\n      this.setStep(this.state.currentStep - 1);\n    }\n  };\n\n  setStep(step) {\n    this.setState({\n      currentStep: step\n    });\n    $(\"[data-smart-wizard-pane=\" + step + \"]\", this.$element)\n      .addClass(\"active\")\n      .siblings(\"[data-smart-wizard-pane]\")\n      .removeClass(\"active\");\n    $(\"[data-smart-wizard-tab=\" + step + \"]\", this.$element)\n      .addClass(\"active\")\n      .siblings(\"[data-smart-wizard-tab]\")\n      .removeClass(\"active\");\n\n    if (step === 1) {\n      this.$prev.find(\"button\").attr(\"disabled\", \"disabled\");\n    } else {\n      this.$prev.find(\"button\").removeAttr(\"disabled\");\n    }\n  }\n\n  complete = () => {\n    const formData = {};\n    this.$form.serializeArray().forEach(field => {\n      formData[field.name] = field.value;\n    });\n    if (this.props.onComplete) {\n      this.props.onComplete(formData);\n    }\n  };\n\n  get $element() {\n    return $(this.refs.wizard);\n  }\n  get $prev() {\n    return $(\"[data-smart-wizard-prev]\", this.$element);\n  }\n  get $next() {\n    return $(\"[data-smart-wizard-next]\", this.$element);\n  }\n  get $form() {\n    return this.$element.closest(\"form\");\n  }\n  get stepsCount() {\n    return $(\"[data-smart-wizard-tab]\", this.$element).length;\n  }\n\n  render() {\n    const { children, onComplete, ...props } = this.props;\n    return (\n      <div {...props} ref=\"wizard\">\n        {children}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}